<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Simplelayout</title>
  <meta name="description" content="Layoutmanager for plone contenttypes">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="dist/simplelayout.css" />
  <link rel="stylesheet" href="bower_components/jquery-ui/themes/ui-lightness/jquery-ui.min.css" />
  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/jquery-ui/ui/minified/jquery-ui.custom.min.js"></script>
  <script src="bower_components/jsrender/jsrender.js"></script>
  <script src="dist/simplelayout.js"></script>
  <script>
  (function() {
    "use strict";
    $(document).ready(function() {
      var simplelayout = new Simplelayout({
        width: "900px",
        source: "#simplelayout"
      });

      var toolbox = new Toolbox({
        layouts: [1, 2, 4],
        components: {
          listingblock: {
            title: "Listingblock",
            description: "can list things",
            contentType: "listingblock",
            formUrl: "http://www.google.com",
            actions: {
              edit: {
                name: "edit",
                description: "Edit this block"
              }
            }
          },
          textblock: {
            title: "Textblock",
            description: "can show text",
            contentType: "textblock",
            formUrl: "http://www.bing.com",
            actions: {
              edit: {
                name: "edit",
                description: "Edit this block"
              },
              download: {
                name: "download",
                description: "Download this content"
              }
            }
          }
        }
      });

      toolbox.attachTo($("body"));
      simplelayout.attachToolbox(toolbox);
      $("#ser").on("click", function() {
        console.log(simplelayout.getLayoutmanager().serialize());
      });
      $("#des").on("click", function() {
        simplelayout.getLayoutmanager().deserialize();
      });
    });
  }());
  </script>

</head>

<body>
  <header style="width: 100%; height: 100px; background: red;"></header>
  <aside style="width: 200px; float: left; background: red;height:100%;">
    <button id="ser">Serialize</button>
    <button id="des">Deserialize</button>
  </aside>
  <main style="float: left;">
    <div id="simplelayout" class="sl-simplelayout" style="width:900px;">
      <div class="sl-layout">
        <div class="sl-column sl-col-1">
          <div data-type="textblock" data-uid="fe0cd15feedb49469033e783d1340545" class="sl-block">
            <div class="sl-block-content"></div>
          </div>
        </div>
      </div>
      <div class="sl-layout">
        <div class="sl-column sl-col-2">
          <div data-type="textblock" data-uid="35df1fc8aadb11e489d3123b93f75cba" class="sl-block">
            <div class="sl-block-content"></div>
          </div>
        </div>
        <div class="sl-column sl-col-2">
          <div data-type="textblock" data-uid="1951bb7caadb11e489d3123b93f75cba" class="sl-block">
            <div class="sl-block-content"></div>
          </div>
        </div>
      </div>
      <div class="sl-layout">
        <div class="sl-column sl-col-1">
          <div data-type="textblock" data-uid="fe0cd15feedb49469033e783d1340545" class="sl-block">
            <div class="sl-block-content"></div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <aside style="float: left; width: 200px; background: red;height:100%;">
  </aside>
</body>

</html>
